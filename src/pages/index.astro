---
import MainLayout from '@/layouts/MainLayout.astro';
// import { getSession } from 'auth-astro/server';
import { actions } from 'astro:actions';

// const session = await getSession(Astro.request);

// const { user } = session ?? {};

const { data, error } = await actions.getProductsByPage({});

if (error) {
  console.error(error);
}
---

<MainLayout
  title="Home Page - Astro Shop"
  description="Welcome to the home page"
  robots="index, follow"
>
  <div class="container mx-auto px-5">
    <h1 class="text-3xl text-purple-400">Home Page</h1>

    <pre>
    <code class="text-lg text-blue-400">
{ JSON.stringify(data, null, 2) }
    </code>
    </pre>
</div>
</MainLayout>
